name: CWSwap
options:
  bundleIdPrefix: com.jsvana
  deploymentTarget:
    iOS: "18.0"
  xcodeVersion: "26"

packages:
  SwiftSoup:
    url: https://github.com/scinfu/SwiftSoup.git
    from: "2.7.0"
  KeychainAccess:
    url: https://github.com/kishikawakatsumi/KeychainAccess.git
    from: "4.2.2"

settings:
  base:
    SWIFT_VERSION: "6.0"
    SWIFT_STRICT_CONCURRENCY: complete
    ENABLE_USER_SCRIPT_SANDBOXING: true

targets:
  CWSwap:
    type: application
    platform: iOS
    sources:
      - path: CWSwap
    dependencies:
      - package: SwiftSoup
      - package: KeychainAccess
    configFiles:
      Debug: Secrets.xcconfig
      Release: Secrets.xcconfig
    info:
      path: CWSwap/Info.plist
      properties:
        BGTaskSchedulerPermittedIdentifiers:
          - com.jsvana.cwswap.refresh
        EbayClientId: $(EBAY_CLIENT_ID)
        EbayClientSecret: $(EBAY_CLIENT_SECRET)
        NSLocationWhenInUseUsageDescription: "CW Swap uses your location to find nearby Craigslist regions for ham radio listings."
    settings:
      base:
        INFOPLIST_GENERATION_MODE: GeneratedFile
        MARKETING_VERSION: "1.0.0"
        CURRENT_PROJECT_VERSION: 1
        PRODUCT_BUNDLE_IDENTIFIER: com.jsvana.CWSwap
        DEVELOPMENT_TEAM: 7UE4RDLUSX
        CODE_SIGN_STYLE: Automatic
        ASSETCATALOG_COMPILER_APPICON_NAME: AppIcon
        ASSETCATALOG_COMPILER_GLOBAL_ACCENT_COLOR_NAME: AccentColor
        GENERATE_INFOPLIST_FILE: true
        INFOPLIST_KEY_UIApplicationSceneManifest_Generation: true
        INFOPLIST_KEY_UIApplicationSupportsIndirectInputEvents: true
        INFOPLIST_KEY_UILaunchScreen_Generation: true
        INFOPLIST_KEY_UISupportedInterfaceOrientations_iPad: "UIInterfaceOrientationPortrait UIInterfaceOrientationPortraitUpsideDown UIInterfaceOrientationLandscapeLeft UIInterfaceOrientationLandscapeRight"
        INFOPLIST_KEY_UISupportedInterfaceOrientations_iPhone: "UIInterfaceOrientationPortrait UIInterfaceOrientationLandscapeLeft UIInterfaceOrientationLandscapeRight"
    capabilities:
      Background Modes:
        modes:
          - fetch
